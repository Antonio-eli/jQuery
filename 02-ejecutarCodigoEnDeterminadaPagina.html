<!doctype html>
<html lang="es">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <title>Manipulación del Dom</title>
</head>

<body>
    <div class="container px-2 my-5">
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center fw-light">Sección 2 Manipulación del Dom</h1>
                <p>Ejecutar código en determinada página</p>
            </div>
            <div class="alert alert-primary" role="alert">
                <p class="text-center fw-bold">Usando el método jQuery is()</p>
            </div>
            <div class="col-md-12 mt-3">
                <h2 class="text-center fw-light">Contar cuantos elementos hay en el DOM</h2>

                <ul class="list-group" id="primeraLista">
                    <li class="list-group-item active" aria-current="true">Primera lista</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                </ul>

                <ul class="list-group mt-4" id="segundaLista">
                    <li class="list-group-item active" aria-current="true">Segunda lista</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                </ul>
            </div>

            <div class="col-md-12 mt-3">
                <h2 class="text-center fw-light">Modificando links y colocando íconos</h2>
                <ul class="list-group" id="links">
                    <li class="list-group-item">
                        <a href="01-manipulacionDom(document.ready).html">ir a 01-manipulacionDom(document.ready)</a>
                    </li>
                    <li class="list-group-item">
                        <a href="https://www.youtube.com/">Ir a https://www.youtube.com/</a>
                    </li>
                </ul>
            </div>

            <div class="col-md-12 mt-3">
                <h2 class="text-center fw-light">Dominando el método end( )</h2>
                <ul class="list-group mt-4" id="desayuno">
                    <li class="list-group-item active huevos" aria-current="true">no</li>
                    <li class="list-group-item tostadas">no</li>
                    <li class="list-group-item jugo">no</li>
                </ul>
            </div>
            <div class="col-md-12 mt-3">
                <h2 class="text-center fw-light">Rompiendo los iframes</h2>
                <div class="ratio ratio-16x9">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/8rWmJcmVWiA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
            <div class="col-md-12 mt-3">
                <h2 class="text-center fw-light">Hacer un contenido editable, incluyendo el estilo</h2>
                <h3 class="badge bg-dark text-wrap" style="width: 45rem;">Titulo editable</h3>
            </div>
        </div>
    </div>
    <style>
        .circle {
            position: fixed;
            width: 140px;
            height: 140px;
            background: #A9DFBF;
        }
    </style>
    <script>
        var route = {
            _routes: {},
            add: function(url, action) {
                this._routes[url] = action;
            },
            run: function() {
                $.each(this._routes, function(patron) {
                    if (location.href.match(patron)) {
                        //Puedo ejecutar cualquier codigo
                        this();
                    }
                });
            }
        }
        route.add('02-ejecutarCodigoEnDeterminadaPagina.html', function() {
            console.log("Este código, solo funciona en la página 02-ejecutarCodigoEnDeterminadaPagina.html");
        });

        route.add('about.html', function() {
            console.log("Este código, solo funciona en la página about.html");
        });

        route.add('.*.html', function() {
            console.log("Este código, solo funciona en cualquier página html");
        });

        route.run();

        /*############################################  Uso del operador lógico AND  ############################################################*/
        //Forma extensa
        /*if ($("h1").length) {
            console.log("El elemento existe");
        }*/
        //Forma corta
        $("h1").length && console.log("El elemento existe");

        /*############################################  Usando el método jQuery is()  ############################################################*/
        var $buscaClase = $('.fw-bold');
        //Verifica si es un parrafo
        $buscaClase.is('p') && console.log("Es un parrafo");
        //Verifica si el parrafo tiene la clase text-center
        $buscaClase.is('.text-center') && console.log("El parrafo si tiene la clase css de text-center");
        $buscaClase.is(':not(:visible)') && console.log("El parrafo esta oculto");
        $buscaClase.animate({
                'width': 200
            }, 1000)
            //Es animado
        $buscaClase.is(':animated') && console.log("Es animado");

        /*############################################  Contar cuantos elementos hay en el DOM  ############################################################*/
        var cuantosHay = $("li").length
        console.log("Hay", cuantosHay, "elementos li");
        /*############################################  Definir la function existe()  ############################################################*/
        console.log('%c function existe(); ', 'background: #0B5345; color: #F9F9F9 ');

        /*if ($("h1").length > 0) {
            console.log("El elemento existe");
        }*/
        $.fn.existe = function() {
            return this.length > 0;
        }
        console.log($("h1").existe() ? "Exite" : "No exite");
        /*############################################  Usando el segundo argumento de la función $( )  ############################################################*/
        $("li", "#primeraLista").each(function() {
            console.log($(this).html());
        });

        var div = $('<div>', {
            'class': "azul-grande",
            'css': {
                'background-color': '#17A589'
            },
            'width': 1000,
            'height': 5,
            'animate': {
                'width': 250,
                'height': 5
            }
        });
        div.appendTo('body')
            /*############################################  Modificando links y colocando íconos  ############################################################*/
        console.log('%c Modificando links y colocando íconos ', 'background: #0B5345; color: #F9F9F9 ');
        $("#links a").each(function() {
                if (this.hostname != location.hostname) {
                    /*$(this).append('<img class="ms-3" src="img/external-link.png"/>')
                        .attr('target', '_blank');*/
                }
            })
            /*############################################  Dominando el metodo end()  ############################################################*/
            /*$(".desayuno").text("Si")
            $(".huevos").text("Si")
            $(".tostadas").text("Si")
            $(".jugo").text("Si")*/
        var $desayuno = $("#desayuno");
        $desayuno.find('.huevos').text('Si').end()
            .find('.tostadas').text('Si').end()
            .find('.jugo').text('Si').end();
        /*############################################  Prevenir el click derecho y crear un circulo  ############################################################*/
        $(function() {
            $(document).on('contextmenu', function(e) {
                e.preventDefault();
                console.log('Menu mostrado', e.offsetX, e.offsetY);
                $('.circle').remove();
                let div = $('<div>', {
                    'class': 'circle',
                    'css': {
                        'top': e.offsetX,
                        'left': e.offsetY
                    },
                    'animate': {
                        'border-radius': '70px'
                    }
                });
                div.appendTo('body');
            });
        });
        /*############################################  Rompiendo los iframes  ############################################################*/
        if (window != window.top) {
            window.top.location = window.location;
        }
        /*############################################Separar elementos de un URL usando anchor tags############################################################*/
        var url = 'https://articulo.mercadolibre.com.mx/MLM-883382263-casco-kov-abatible-con-luz-led-stelar-gafas-dot-regalo-_JM#reco_item_pos=2&reco_backend=machinalis-homes-pdp-boos&reco_backend_type=function&reco_client=home_navigation-trend-recommendations&reco_id=3f14ed6a-ee82-442e-a420-d5e420ae2eec&c_id=/home/navigation-trends-recommendations/element&c_element_order=3&c_uid=5ab50407-9a8a-4daa-8d76-d3f6dfd4ab73#comentario';
        var a = $('<a>', {
            href: url
        });
        console.log('Host name:', a.prop('hostname'));
        console.log('Path:', a.prop('pathname'));
        console.log('Query:', a.prop('search'));
        console.log('Protocolo:', a.prop('protocol'));
        console.log('hash:', a.prop('hash'));
        console.log(a.prop('search').split("&"));
        /*############################################ Hacer un contenido editable, incluyendo el estilo ############################################################*/
        $("h3").attr("contentEditable", true)
    </script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>